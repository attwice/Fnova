(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{6302:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(9003)}])},9003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(5893),i=n(7294),s=n(1163),r=n(4416),c=n(8697),o=(n(5557),n(4465)),l=n(1e3),u=n(6624),d=n(3271),p=n(5666),h=n.n(p),m=n(906),g=n(5336),f=(n(2653),n(9669)),v=n.n(f),x=n(3135);function S(e,t,n,a,i,s,r){try{var c=e[s](r),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(a,i)}var j=function(e){var t=e.onChangeHandler,n=(e.validated,e.onContinue),s=e.onBack,c=(0,r.v9)((function(e){return e.checkout})),o=(0,r.I0)();(0,i.useEffect)((function(){N(c.shippingStreetOne)}),[]);var l,u=(0,m.ZP)(),p=u.ready,f=u.value,j=u.suggestions,b=j.status,y=j.data,N=u.setValue,k=u.clearSuggestions,C=(l=h().mark((function e(t){var n,a,i,s,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,m.LM)({address:t}).then((function(e){n=e[0].types[0],i=e[0].address_components,(0,m.xb)(e[0],!1).then((function(e){a=e})).catch((function(e){console.log("Error: ",e)}))})).catch((function(e){console.log("Error: ",e)}));case 3:if("street_address"==n||"premise"==n){e.next=7;break}return N("",!1),alert("please input stress address"),e.abrupt("return");case 7:s=i[0].long_name+" "+i[1].long_name,o({type:x.kN,payload:s}),o({type:x.cV,payload:i[2].long_name}),o({type:x._k,payload:a}),r=0;case 12:if(!(r<i.length)){e.next=19;break}if("administrative_area_level_1"!=i[r].types[0]){e.next=16;break}return o({type:x.wk,payload:i[r].long_name}),e.abrupt("break",19);case 16:r++,e.next=12;break;case 19:N(s,!1),k();case 21:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=l.apply(e,t);function s(e){S(i,n,a,s,r,"next",e)}function r(e){S(i,n,a,s,r,"throw",e)}s(void 0)}))});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Your Shipping Details"}),(0,a.jsxs)("div",{className:"checkout-flex-row",children:[(0,a.jsxs)("div",{className:"checkout-inline",children:[(0,a.jsx)("label",{children:"First Name"}),(0,a.jsx)("input",{name:"shipping-firstname",required:!0,className:"checkout-panel-info-input",value:c.shippingFirstname,onChange:t})]}),(0,a.jsxs)("div",{className:"checkout-inline",children:[(0,a.jsx)("label",{children:"Last Name"}),(0,a.jsx)("input",{name:"shipping-lastname",required:!0,className:"checkout-panel-info-input checkout-inline",value:c.shippingLastname,onChange:t})]})]}),(0,a.jsx)("label",{children:"Phone Number"}),(0,a.jsx)("input",{type:"text",required:!0,name:"phone-number",className:"checkout-panel-info-input",value:c.phoneNumber,onChange:t}),(0,a.jsx)("label",{children:"Email Address"}),(0,a.jsx)("input",{type:"text",name:"email-address",required:!0,className:"checkout-panel-info-input",value:c.emailAddress,onChange:t}),(0,a.jsx)("label",{children:"Street Address"}),(0,a.jsxs)(g.hQ,{onSelect:C,"aria-labelledby":"demo",children:[(0,a.jsx)(g.gA,{name:"shipping-street-one",className:"checkout-panel-info-input",value:f,onInput:function(e){t(e),N(e.target.value)},disabled:!p}),(0,a.jsx)(g.SF,{className:"combobox-popover",children:(0,a.jsx)(g.Gk,{className:"combobox-list",children:"OK"===b&&function(){var e=y.map((function(e){var t=e.place_id,n=e.description;return(0,a.jsx)(g.O2,{className:"combobox-option",value:n},t)}));return(0,a.jsx)(a.Fragment,{children:e})}()})})]}),(0,a.jsxs)("div",{className:"checkout-flex-row",children:[(0,a.jsxs)("div",{className:"checkout-inline",children:[(0,a.jsx)("label",{children:"City"}),(0,a.jsx)("input",{type:"text",name:"shipping-city",required:!0,className:"checkout-panel-info-input",value:c.shippingCity,onChange:t})]}),(0,a.jsxs)("div",{className:"checkout-inline",children:[(0,a.jsx)("label",{children:"State/Province"}),(0,a.jsx)("input",{name:"shipping-state",className:"checkout-panel-info-input",value:c.shippingState,onChange:t})]})]}),(0,a.jsx)("label",{children:"Zip Code"}),(0,a.jsx)("input",{name:"shipping-zip",className:"checkout-panel-info-input",onKeyPress:function(e){var t=(e=e||window.event).which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)))return!0;e.preventDefault()},value:c.shippingZip,onChange:t}),(0,a.jsxs)("div",{className:"checkout-panel-info-control",children:[(0,a.jsx)("button",{className:"checkout-panel-info-control-button",onClick:s,children:"BACK"}),(0,a.jsx)("button",{className:"checkout-panel-info-control-button",onClick:function(){var e=new Date,t={firstName:c.shippingFirstname,lastName:c.shippingLastname,phoneNumber:c.phoneNumber,emailAddress:c.emailAddress,streetAddress:c.streetAddress,shippingCity:c.shippingCity,shippingStreet:c.shippingStreetOne,shippingZip:c.shippingZip,date:e.getUTCFullYear()+" "+Number(e.getUTCMonth()+1)+" "+e.getUTCDate()+" "+e.getUTCHours()+" "+e.getUTCMinutes()};o({type:x.F7,payload:t}),v().post("".concat(d.O2,"/abandon"),t).then((function(e){})).catch((function(e){console.log(e)})),n()},children:"CONTINUE"})]})]})},b=n(6664),y=n(2814),N=n(1436);n(1664);function k(e,t,n,a,i,s,r){try{var c=e[s](r),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(a,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(e){k(s,a,i,r,c,"next",e)}function c(e){k(s,a,i,r,c,"throw",e)}r(void 0)}))}}var O={style:{base:{color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},I=function(e){var t=e.onConfirmPayment,n=e.subTotal,s=e.getIndentAction,c=e.billingEmail,o=e.validateForm,l=e.setIntentId,u=e.intentId,p=e.onBack,m=(e.onContinue,(0,r.v9)((function(e){return e.abandon}))),g=(0,i.useState)(!1),f=g[0],x=g[1],S=(0,i.useState)(null),j=S[0],k=S[1],I=(0,i.useState)(!1),D=I[0],F=I[1],w=(0,i.useState)(!0),_=w[0],P=w[1],A=(0,i.useState)(""),E=A[0],L=A[1],M=(0,b.useStripe)(),T=(0,b.useElements)();(0,i.useEffect)((function(){var e=setTimeout((function(){n&&c&&-1!==c.indexOf("@")&&-1!==c.indexOf(".com")&&s({body:{price:n,email:c,id:u},onSuccess:function(e){var t=e.data;L(t.clientSecret),l(t.id)}})}),3e3);return function(){return clearTimeout(e)}}),[n,c]);var Z=C(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t.empty),k(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)}))),q=C(h().mark((function e(n){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),F(!0),!o()){e.next=17;break}return e.prev=3,e.next=6,M.confirmCardPayment(E,{payment_method:{card:T.getElement(b.CardElement)}});case 6:(a=e.sent).error?(k("Payment failed ".concat(a.error.message)),F(!1)):t(a.paymentIntent.id)&&(k(null),F(!1),x(!0),v().delete("".concat(d.O2,"/delete"),m.abandonUser.date).then((function(e){})).catch((function(e){console.log(e)}))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message),k("Payment failed"),F(!1);case 15:e.next=18;break;case 17:k("Payment failed"),F(!1);case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return(0,a.jsxs)("form",{id:"payment-form",onSubmit:q,children:[(0,a.jsxs)("label",{children:["Card Details: ",(0,a.jsx)("i",{children:"Required"}),(0,a.jsx)(b.CardElement,{id:"card-element",options:O,onChange:Z})]}),j&&(0,a.jsx)("div",{className:"card-error",role:"alert",children:j}),(0,a.jsxs)("div",{className:"checkout-panel-info-control",children:[(0,a.jsx)("button",{className:"checkout-panel-info-control-button",onClick:p,children:"BACK"}),(0,a.jsx)("button",{className:"payment-button",disabled:D||_||f,type:"submit",children:(0,a.jsx)("span",{id:"button-text",children:D?(0,a.jsx)(y.G,{icon:N.LM3,className:"rotating"}):"PAY NOW"})})]})]})},D=function(e){return e.children||null},F=n(6876),w=(n(8426),function(e){var t=e.onChangeHandler,n=(e.validated,e.generateShippingMethods),i=e.deliveryMode,s=e.onCalendarClick,c=e.stripePromise,o=e.onConfirmPayment,l=e.subTotal,d=e.getIndentAction,p=e.billingEmail,h=e.validateForm,m=e.setIntentId,g=e.intentId,f=e.onBack,v=e.onContinue,x=(0,r.v9)((function(e){return e.checkout}));return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(D,{children:[(0,a.jsx)("span",{children:"Billing Information"}),(0,a.jsx)("label",{children:"Email Address"}),(0,a.jsx)("input",{name:"billing-email",className:"checkout-panel-info-input",required:!0,value:x.emailAddress,onChange:t}),(0,a.jsxs)("div",{className:"checkout-panel-info-input-checkbox",children:[(0,a.jsx)("input",{type:"checkbox",name:"billing-shipping-same",id:"billing-shipping-same",checked:x.billingShippingSame,onChange:t}),(0,a.jsx)("label",{for:"billing-shipping-same",children:"My billing and shipping address are the same"})]}),(0,a.jsx)("label",{children:"Street Address"}),(0,a.jsx)("input",{name:"billing-street-one",className:"checkout-panel-info-input",required:!0,disabled:x.billingShippingSame,value:x.billingStreetOne,onChange:t}),(0,a.jsx)("label",{children:"City"}),(0,a.jsx)("input",{type:"text",name:"billing-city",required:!0,disabled:x.billingShippingSame,className:"checkout-panel-info-input",value:x.billingCity,onChange:t}),(0,a.jsx)("label",{children:"State"}),(0,a.jsx)("input",{type:"text",name:"billing-state",required:!0,disabled:x.billingShippingSame,className:"checkout-panel-info-input",value:x.billingState,onChange:t}),(0,a.jsx)("span",{children:"Delivery Date"}),(0,a.jsx)("label",{className:"checkout-panel-delivery-comment",children:"Enter your shipping information to see possible delivery dates"}),(0,a.jsxs)("div",{className:"checkout-panel-delivery-dates",children:[n(),i===u.rN&&(0,a.jsx)(F.ZP,{className:"checkout-contents-delivery-dates-calendar",onChange:s,calendarType:"US",tileDisabled:function(e,t,n){var a=new Date,i=new Date(e.date),s=new Date(a);s.setDate(a.getDate()+6);var r=!1;return(i.getDate()<s.getDate()&&i.getMonth()<=s.getMonth()&&i.getFullYear()<=s.getFullYear()||i.getMonth()<s.getMonth()&&i.getFullYear()<=s.getFullYear())&&(r=!0),r}})]}),(0,a.jsx)(b.Elements,{stripe:c,children:(0,a.jsx)(I,{onConfirmPayment:o,subTotal:l,getIndentAction:d,billingEmail:p,validateForm:h,setIntentId:m,intentId:g,onBack:f,onContinue:v})})]})})}),_=function(e){var t=e.generateOrderList,n=e.orderList,i=e.shippingFee,s=e.subTotal,r=e.shFirstName,c=e.shLastName,o=e.shStreetOne,l=e.shState;return(0,a.jsxs)("div",{className:"checkout-panel-status",children:[(0,a.jsxs)("div",{className:"checkout-panel-status-box",children:[(0,a.jsx)("span",{children:"Basket Summary"}),t(n),(0,a.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,a.jsx)("div",{className:"square",children:(0,a.jsx)(y.G,{icon:N.$KU})}),(0,a.jsx)("div",{className:"text",children:(0,a.jsx)("label",{children:"Shipping Fee"})}),(0,a.jsx)("div",{className:"price",children:"$".concat(i)})]}),(0,a.jsxs)("div",{className:"checkout-panel-status-box-total",children:[(0,a.jsx)("span",{children:"total"}),(0,a.jsx)("span",{children:"$".concat(s)})]})]}),(0,a.jsxs)("div",{className:"checkout-panel-status-box",children:[(0,a.jsx)("span",{children:"Shipping Details"}),(0,a.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,a.jsx)("div",{className:"square",children:(0,a.jsx)(y.G,{icon:N.FGq})}),(0,a.jsxs)("div",{className:"text",children:[(0,a.jsx)("span",{children:"".concat(r||"First"," ").concat(c||"Last")}),(0,a.jsx)("span",{children:"".concat(o||"Address"," ").concat(l||"City")})]})]})]})]})},P=[{className:"details",text:"Your Details"},{className:"payment",text:"Payment"},{className:"confirm",text:"Confirmation"}],A=function(e){var t=e.shFirstName,n=e.shLastName,r=e.shStreetOne,c=e.shState,p=e.orderList,h=e.shippingFee,m=(e.firstName,e.lastName,e.shippingStreet,e.shippingCity,e.subTotal),g=e.deliveryMode,f=e.deliveryDate,v=e.shippingMethods,x=e.onConfirmPayment,S=e.handleDeliveryModeChange,b=e.onCalendarClick,y=e.onChooseAnotherDate,N=e.onChangeHandler,k=e.validated,C=e.getDeliveryDayFromMethod,O=e.getShippingPrice,I=e.getIndentAction,D=e.biEmail,F=e.validateForm,A=e.validateStage1,E=e.setIntentId,L=e.intentId,M=(0,i.useState)(0),T=M[0],Z=M[1],q=(0,o.J)(d.Ys),B=(0,s.useRouter)(),J=function(){2!=T&&A()&&Z(T+1)},Y=function(){0==T?B.back():Z(T-1)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"checkout",children:[(0,a.jsx)("div",{className:"checkout-header",children:(0,a.jsx)("div",{className:"checkout-header-title",children:P.map((function(e,t){return(0,a.jsxs)("div",{className:e.className,children:[(0,a.jsx)("div",{className:"square "+(t==T?"active":""),children:t+1}),(0,a.jsx)("span",{className:t==T?"active":"",children:e.text})]},t)}))})}),(0,a.jsxs)("div",{className:"checkout-panel",children:[(0,a.jsxs)("div",{className:"checkout-panel-info",children:[0===T&&(0,a.jsx)(j,{onChangeHandler:N,validated:k,onContinue:J,onBack:Y}),1===T&&(0,a.jsx)(w,{onChangeHandler:N,validated:k,generateShippingMethods:function(){return v.map((function(e,t){return(0,a.jsxs)("div",{className:"checkout-panel-delivery-dates-item flex",onChange:function(){return S(e,C(e))},children:[(0,a.jsxs)("label",{className:"custom-radio",children:[(0,a.jsxs)("div",{className:"flex flex-column",children:[e!==u.rN?C(e):g===u.Lj&&f?f:"Choose a date",(0,a.jsx)("span",{children:"".concat(e," delivery")}),e===u.rN&&g===u.Lj&&f&&(0,a.jsx)("span",{onClick:function(){return y()},children:"Choose another date"})]}),(0,a.jsx)("input",{type:"radio",name:"dates",defaultChecked:e===u.rN?g===u.rN||g===u.Lj:g===e}),(0,a.jsx)("span",{className:"checkmark"})]}),(0,a.jsx)("div",{className:"checkout-panel-delivery-dates-item-service",children:O(p,e)?"+$".concat(O(p,e)):"Free"})]},t)}))},deliveryMode:g,onCalendarClick:b,stripePromise:q,onConfirmPayment:x,subTotal:m,getIndentAction:I,billingEmail:D,validateForm:F,setIntentId:E,intentId:L,onBack:Y,onContinue:J}),2===T&&(0,a.jsx)(l.Z,{})]}),(0,a.jsx)(_,{generateOrderList:function(){return p.map((function(e,t){return(0,a.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,a.jsx)("div",{className:"square",children:e.quantity}),(0,a.jsxs)("div",{className:"text",children:[(0,a.jsx)("label",{children:e.type}),(0,a.jsx)("span",{className:"quantity",children:"Pending Proof Approval"})]}),(0,a.jsx)("div",{className:"price",children:"$".concat(e.price)})]},t)}))},orderList:p,shippingFee:h,subTotal:m,shFirstName:t,shLastName:n,shStreetOne:r,shState:c})]})]})})},E=n(180),L=n(8641),M=n(6693),T=n(8062),Z=n(4658),q=n(1922),B=n(1885),J=n(1955),Y=n(6455),z=n.n(Y),U=(0,c.zB)({orderStore:E.C}),V={createOrderAction:L.TK,stripePayAction:L.$B,getIndentAction:L.jD},$=(0,r.$j)(U,V)((function(e){var t=e.createOrderAction,n=e.getIndentAction,c=(0,r.I0)(),o=(0,r.v9)((function(e){return e.checkout})),l=(0,i.useState)([]),d=l[0],p=l[1],h=(0,i.useState)(0),m=h[0],g=h[1],f=(0,i.useState)(o.phoneNumber),v=f[0],S=f[1],j=(0,i.useState)(o.emailAddress),b=j[0],y=j[1],N=(0,i.useState)(o.shippingFirstname),k=N[0],C=N[1],O=(0,i.useState)(o.shippingLastname),I=O[0],D=O[1],F=(0,i.useState)(o.shippingCompany),w=F[0],_=F[1],P=(0,i.useState)(o.shippingStreetOne),E=P[0],L=P[1],Y=(0,i.useState)(o.shippingStreetTwo),U=Y[0],V=(Y[1],(0,i.useState)(o.shippingCity)),$=V[0],H=V[1],G=(0,i.useState)(o.shippingState),K=G[0],W=G[1],R=(0,i.useState)(o.shippingZip),Q=R[0],X=R[1],ee=(0,i.useState)((0,q.fS)(u.uY)),te=ee[0],ne=ee[1],ae=(0,i.useState)(u.uY),ie=ae[0],se=ae[1],re=(0,i.useState)(0),ce=re[0],oe=re[1],le=(0,i.useState)(o.emailAddress),ue=le[0],de=le[1],pe=(0,i.useState)(o.billingStreetOne),he=pe[0],me=pe[1],ge=(0,i.useState)(o.billingStreetTwo),fe=(ge[0],ge[1]),ve=(0,i.useState)(o.billingCity),xe=ve[0],Se=ve[1],je=(0,i.useState)(o.billingState),be=je[0],ye=je[1],Ne=(0,i.useState)({phone:!1,email:!1,shFirst:!1,shLast:!1,shStreetOne:!1,shCity:!1,shState:!1,shZip:!1,biEmail:!1,biStreetOne:!1,biCity:!1,biState:!1}),ke=Ne[0],Ce=(Ne[1],(0,i.useState)(!1)),Oe=Ce[0],Ie=Ce[1],De=(0,s.useRouter)();(0,i.useEffect)((function(){(0,q.yE)({shFirstName:k,shLastName:I,streetAddress:"".concat(E," ").concat(U),shState:K})})),(0,i.useEffect)((function(){var e=(0,Z.Fw)();oe((0,B.iW)(e,ie)),e.length&&p(e);var t=0;e.forEach((function(e){t+=e.price})),g(t+ce)}),[ie]);var Fe=function(){var e=[];return v||e.push("Phone number"),(-1===b.indexOf("@")||-1===b.indexOf(".com")&&-1===b.indexOf(".net")&&-1===b.indexOf(".org")&&-1===b.indexOf(".co")&&-1===b.indexOf(".uk"))&&e.push("Shipping email"),k||e.push("Shipping First Name"),I||e.push("Shipping Last Name"),E||e.push("Shipping Street"),$||e.push("Shipping City"),K||e.push("Shipping State"),Q||e.push("Shipping ZIP"),(-1===ue.indexOf("@")||-1===ue.indexOf(".com")&&-1===ue.indexOf(".net")&&-1===ue.indexOf(".org")&&-1===ue.indexOf(".co")&&-1===ue.indexOf(".uk"))&&e.push("Billing Email"),he||e.push("Billing Street"),xe||e.push("Billing City"),be||e.push("Billing State"),e};return(0,a.jsx)(A,{shFirstName:k,shLastName:I,shStreetOne:E,shState:K,orderList:d,shippingFee:ce,subTotal:m,firstName:k,lastName:I,shippingStreet:E,shippingCity:$,deliveryMode:ie,deliveryDate:te,shippingMethods:u.ZP,onConfirmPayment:function(e){(0,Z.Fw)();t({body:{email:b,phone:v,firstname:k,lastname:I,company:w,streetAddress:"".concat(E,", ").concat(U),city:$,state:K,zip:Q,deliveryDate:te,orders:(0,Z.Fw)(),price:m,label:"ONHOLD"},onSuccess:function(t){t.data;var n=J.Z.get("_gac_UA-285031413-1");J.Z.set("intentId",e),J.Z.set("subTotal",m),n&&window.dataLayer.push({event:"conversion-tracking"}),De.push(M.Z.SUCCESS)}})},handleDeliveryModeChange:function(e,t){se(e),e!==u.rN&&ne(t);var n=(0,Z.Fw)();oe((0,B.iW)(n,e)),(0,q.qz)((0,B.iW)(n,e)),(0,q.yE)({shFirstName:k,shLastName:I,streetAddress:"".concat(E," ").concat(U),shState:K})},onCalendarClick:function(e){var t=(0,T.V)(e);se(u.Lj),ne(t)},onChooseAnotherDate:function(){u.Lj&&se(u.rN)},onChangeHandler:function(e){switch(e.target.name){case"phone-number":S(e.target.value),c({type:x.fL,payload:e.target.value});break;case"email-address":y(e.target.value),c({type:x.Np,payload:e.target.value});break;case"shipping-firstname":C(e.target.value),c({type:x.sf,payload:e.target.value});break;case"shipping-lastname":D(e.target.value),c({type:x.fs,payload:e.target.value});break;case"shipping-company":_(e.target.value),c({type:x.$P,payload:e.target.value});break;case"shipping-street-one":L(e.target.value),c({type:x.kN,payload:e.target.value});break;case"shipping-city":H(e.target.value),c({type:x.cV,payload:e.target.value});break;case"shipping-state":W(e.target.value),c({type:x.wk,payload:e.target.value});break;case"shipping-zip":X(e.target.value),c({type:x._k,payload:e.target.value});break;case"billing-email":de(e.target.value),c({type:x.Np,payload:e.target.value});break;case"billing-street-one":me(e.target.value),c({type:x.yH,payload:e.target.value});break;case"billing-street-two":fe(e.target.value),c({type:x.n5,payload:e.target.value});break;case"billing-city":Se(e.target.value),c({type:x.Ir,payload:e.target.value});break;case"billing-state":ye(e.target.value),c({type:x.Rt,payload:e.target.value});break;case"billing-shipping-same":c({type:x.Zb,payload:e.target.checked})}Fe()},validated:ke,getDeliveryDayFromMethod:q.fS,getShippingPrice:B.iW,getIndentAction:n,biEmail:ue,validateForm:function(){var e=Fe();return!e.length||(z().fire("To continue you need to fill in the following field".concat(e.length>1?"s":"","."),"".concat(e.join(", ")),"info"),!1)},validateStage1:function(){var e=function(){var e=[];return v||e.push("Phone number"),(-1===b.indexOf("@")||-1===b.indexOf(".com")&&-1===b.indexOf(".net")&&-1===b.indexOf(".org")&&-1===b.indexOf(".co")&&-1===b.indexOf(".uk"))&&e.push("Shipping email"),k||e.push("Shipping First Name"),I||e.push("Shipping Last Name"),o.shippingStreetOne||e.push("Shipping Street"),o.shippingCity||e.push("Shipping City"),o.shippingState||e.push("Shipping State"),o.shippingZip||e.push("Shipping ZIP"),e}();return!e.length||(z().fire("To continue you need to fill in the following field".concat(e.length>1?"s":"","."),"".concat(e.join(", ")),"info"),!1)},setIntentId:Ie,intentId:Oe})})),H=n(9008),G=function(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(H.default,{children:[(0,a.jsx)("title",{children:" Checkout - Custom Stickers | StickerCove "}),(0,a.jsx)("meta",{name:"description",content:"Checkout and have your custom stickers delivered by your selected delivery date."})]}),(0,a.jsx)($,{})]})}},5557:function(e,t,n){"use strict";var a=n(5893),i=n(2814),s=n(1436);t.Z=function(e){var t=e.title,n=e.handlePrevious;return(0,a.jsxs)("div",{className:"order-status-bar flex",children:[(0,a.jsx)(i.G,{className:"order-status-bar-icon",icon:s.OFe,onClick:n}),(0,a.jsx)("span",{className:"order-status-bar-title",children:t})]})}},1e3:function(e,t,n){"use strict";var a=n(5666),i=n.n(a),s=n(5893),r=n(2814),c=n(1436),o=n(1163),l=n(7294),u=n(4658),d=n(6693),p=n(1955),h=n(1922);function m(e,t,n,a,i,s,r){try{var c=e[s](r),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(a,i)}var g=[{className:"details",text:"Your Details"},{className:"payment",text:"Payment"},{className:"confirm",text:"Confirmation"}],f=function(e){return e.map((function(e,t){return(0,s.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,s.jsx)("div",{className:"square",children:e.quantity}),(0,s.jsxs)("div",{className:"text",children:[(0,s.jsx)("label",{children:e.type}),(0,s.jsxs)("span",{className:"quantity",children:["x",e.quantity]})]}),(0,s.jsx)("div",{className:"price",children:"$".concat(e.price)})]},t)}))};t.Z=function(){var e=(0,l.useState)(u.Fw),t=e[0],n=(e[1],(0,l.useState)((0,h.cr)())),a=n[0],v=(n[1],(0,l.useState)(2)),x=v[0],S=(v[1],(0,o.useRouter)()),j=(0,l.useState)(0),b=j[0],y=j[1];(0,l.useEffect)((function(){var e=0;t.forEach((function(t){e+=t.price})),y(e+(0,h.kd)()),k()}),[t]);var N,k=(N=i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=p.Z.get("intentId"),n=p.Z.get("subTotal"),p.Z.set("intentId",""),p.Z.set("subTotal",""),t&&n&&gtag("event","conversion",{send_to:"AW-314966559/hJ14CMjQz-0CEJ-EmJYB",value:parseFloat(n),currency:"USD",transaction_id:t})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=N.apply(e,t);function s(e){m(i,n,a,s,r,"next",e)}function r(e){m(i,n,a,s,r,"throw",e)}s(void 0)}))});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"checkout",children:[(0,s.jsx)("div",{className:"checkout-header",children:(0,s.jsx)("div",{className:"checkout-header-title",children:g.map((function(e,t){return(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsx)("div",{className:"square "+(t==x?"active":""),children:t+1}),(0,s.jsx)("span",{className:t==x?"active":"",children:e.text})]},t)}))})}),(0,s.jsxs)("div",{className:"checkout-panel",children:[(0,s.jsx)("div",{className:"checkout-panel-info",children:(0,s.jsxs)("div",{className:"order-success flex flex-column",children:["Congratulations! ",(0,s.jsx)("br",{}),"Your order has been submitted",(0,s.jsx)("br",{}),"Thank you for using Sticker Cove!",(0,s.jsx)("div",{onClick:function(){S.push(d.Z.CUSTOM_STICKER)},children:"Continue shopping"})]})}),(0,s.jsxs)("div",{className:"checkout-panel-status",children:[(0,s.jsxs)("div",{className:"checkout-panel-status-box",children:[(0,s.jsx)("span",{children:"Basket Summary"}),f(t),(0,s.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,s.jsx)("div",{className:"square"}),(0,s.jsx)("div",{className:"text",children:(0,s.jsx)("label",{children:"Shopping Fee"})}),(0,s.jsxs)("div",{className:"price",children:["$",(0,h.kd)()]})]}),(0,s.jsxs)("div",{className:"checkout-panel-status-box-total",children:[(0,s.jsx)("span",{children:"total"}),(0,s.jsxs)("span",{children:["$",b]})]})]}),(0,s.jsxs)("div",{className:"checkout-panel-status-box",children:[(0,s.jsx)("span",{children:"Shipping Details"}),(0,s.jsxs)("div",{className:"checkout-panel-status-box-item",children:[(0,s.jsx)("div",{className:"square",children:(0,s.jsx)(r.G,{icon:c.FGq})}),(0,s.jsxs)("div",{className:"text",children:[(0,s.jsxs)("span",{children:[a&&a.shFirstName," ",a&&a.shLastName]}),(0,s.jsxs)("span",{children:[a&&a.streetAddress," ",a&&a.shState]})]})]})]})]})]})]})})}},6624:function(e,t,n){"use strict";n.d(t,{uY:function(){return a},uD:function(){return i},lz:function(){return s},rN:function(){return r},Lj:function(){return c},sM:function(){return o},J7:function(){return l},ZZ:function(){return u},pB:function(){return d}});var a="Standard",i="Fast",s="Faster",r="Scheduled",c="Scheduled_selected",o=8.95,l=16.95,u=39.95,d=79.95,p=[a,i,s,r];t.ZP=p},8062:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var a=function(e){var t=new Date(e);t.setDate(e.getDate());var n=t.toUTCString().split(",")[0];return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate()," (").concat(n,")")}},1922:function(e,t,n){"use strict";n.d(t,{fS:function(){return r},qz:function(){return c},kd:function(){return o},yE:function(){return l},cr:function(){return u}});var a=n(6624),i=n(8062),s=function(){var e=[],t=new Date,n=new Date(t);n.setDate(t.getDate()+1),(0,i.V)(n).indexOf("Sun")>-1&&n.setDate(n.getDate()+1),e.push(n);var a=new Date(n);a.setDate(a.getDate()+1),(0,i.V)(a).indexOf("Sun")>-1&&a.setDate(a.getDate()+1),e.push(a);var s=new Date(a);return s.setDate(s.getDate()+3),(0,i.V)(s).indexOf("Sun")>-1&&s.setDate(s.getDate()+1),e.push(s),e},r=function(e){return e===a.lz?(0,i.V)(s()[0]):e===a.uD?(0,i.V)(s()[1]):e===a.uY?(0,i.V)(s()[2]):void 0},c=function(e){localStorage.setItem("shipping_fee",e);localStorage.getItem("shipping_fee")},o=function(){var e=localStorage.getItem("shipping_fee");return e?parseFloat(e):0},l=function(e){localStorage.setItem("shipping_info",JSON.stringify(e))},u=function(){var e=localStorage.getItem("shipping_info");return e=JSON.parse(e)}},1885:function(e,t,n){"use strict";n.d(t,{aS:function(){return i},fL:function(){return s},iW:function(){return r}});var a=n(6624),i=function(e,t){var n,a=.018*(e[0]*e[1]*t)+49;return n=a<50?parseInt(a/1.5):a<55?parseInt(a-5):a<500?parseInt(a):a<1e3?parseInt(19*a/20):parseInt(9*a/10),Math.round(n-.25*n)},s=function(e,t){var n=Math.round(3*Math.sqrt(t)+parseInt(e[0])-5);return n>=100&&(n=99),n},r=function(e,t){var n;if(t===a.lz||t===a.uD){var i=0;e.map((function(e){var t=e.size[0]*e.size[1];return t>i&&(i=t),!0})),n=t===a.lz?i>=25?a.pB:a.ZZ:i>=25?a.J7:a.sM}else n=0;return n}},4658:function(e,t,n){"use strict";n.d(t,{LV:function(){return a},co:function(){return i},Cs:function(){return s},Fw:function(){return r},zP:function(){return c}});var a=function(e,t){var n=void 0===t?null:t,a=(localStorage.length+1).toString(),i=n&&n.toString().length?n:{type:e,id:a};return localStorage.setItem("order_id_".concat(a),JSON.stringify(i)),a},i=function(e){var t=localStorage.getItem("order_id_".concat(e));return t?JSON.parse(t):{}},s=function(e,t){var n=localStorage.getItem("order_id_".concat(e));if(n){var a=JSON.parse(n),i=Object.assign(a,t);return localStorage.setItem("order_id_".concat(e),JSON.stringify(i)),!0}return console.error("Order",e,"does not exist"),!1},r=function(){var e=[];for(var t in localStorage)t.includes("order_id")&&e.push(t);if(e.length>0){var n=[];return e.map((function(e){var t=JSON.parse(localStorage.getItem(e));t.price&&n.push(t)})),c(n),n}return[]},c=function(e){var t=localStorage.getItem("shipping_fee"),n=localStorage.getItem("shipping_info");localStorage.clear(),t&&localStorage.setItem("shipping_fee",t),n&&localStorage.setItem("shipping_info",n),e.forEach((function(e){a(null,e)}))}},180:function(e,t,n){"use strict";n.d(t,{C:function(){return i},U:function(){return s}});var a=n(6486),i=function(e){return(0,a.get)(e,"order")},s=function(e){return(0,a.get)(e,"comment")}}},function(e){e.O(0,[990,774,888,179],(function(){return t=6302,e(e.s=t);var t}));var t=e.O();_N_E=t}]);